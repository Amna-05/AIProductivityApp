# ====================================================================
# PRODUCTION-READY TASK MANAGER - ENVIRONMENT VARIABLES
# ====================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ====================================================================
# API SETTINGS
# ====================================================================
PROJECT_NAME=Productivity App API
VERSION=1.0.0
API_V1_PREFIX=/api/v1
DEBUG=false

# Environment: development, staging, production
ENVIRONMENT=development

# ====================================================================
# DATABASE CONFIGURATION
# ====================================================================
# Async PostgreSQL connection (for FastAPI)
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/taskmanager

# Sync PostgreSQL connection (for Alembic migrations)
SYNC_DATABASE_URL=postgresql://user:password@localhost:5432/taskmanager

# Connection Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ====================================================================
# SECURITY & AUTHENTICATION
# ====================================================================
# Generate a secure random secret key:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-CHANGE-THIS-IN-PRODUCTION

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Cookie Settings
COOKIE_DOMAIN=
COOKIE_SECURE=true
COOKIE_SAMESITE=lax

# ====================================================================
# CORS (Cross-Origin Resource Sharing)
# ====================================================================
# Add your frontend URLs here (comma-separated JSON array)
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8080","http://localhost:5173"]

# ====================================================================
# EXTERNAL API KEYS
# ====================================================================
# Groq API Key (for AI task parsing)
# Get free key at: https://console.groq.com
GROQ_API_KEY=your-groq-api-key-here

# ====================================================================
# EMAIL SERVICE (Resend)
# ====================================================================
# Resend API Key for sending password reset emails
# Get free key at: https://resend.com (100 emails/day free tier)
# Leave as placeholder to use console logging (development mode)
RESEND_API_KEY=your-resend-api-key-here

# Email sender address (must be verified in Resend dashboard)
# For testing: use onboarding@resend.dev (provided by Resend)
# For production: use your verified domain email
EMAIL_FROM=ELEVATE <onboarding@resend.dev>

# Frontend URL for password reset links
# Update this to your production URL when deploying
FRONTEND_URL=http://localhost:3000

# ====================================================================
# LOGGING & MONITORING (Phase 1)
# ====================================================================
# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Sentry DSN for error tracking (optional but recommended for production)
# Get free account at: https://sentry.io
# Leave empty to disable Sentry
SENTRY_DSN=

# ====================================================================
# RATE LIMITING (Phase 1)
# ====================================================================
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# Maximum requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# ====================================================================
# PERFORMANCE & OPTIMIZATION (Phase 1)
# ====================================================================
# Enable response compression (gzip)
ENABLE_RESPONSE_COMPRESSION=true

# Enable caching (Redis required for production)
CACHE_ENABLED=false

# Cache TTL in seconds
CACHE_TTL_SECONDS=300

# ====================================================================
# DEVELOPMENT/TESTING
# ====================================================================
# Test Database URL (use separate database for testing!)
TEST_DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/test_taskmanager

# ====================================================================
# DEPLOYMENT NOTES
# ====================================================================
#
# FOR DEVELOPMENT:
# - Set DEBUG=true for detailed error messages
# - Set ENVIRONMENT=development
# - Set LOG_LEVEL=DEBUG for verbose logging
# - COOKIE_SECURE can be false for localhost
#
# FOR PRODUCTION:
# - Set DEBUG=false (critical!)
# - Set ENVIRONMENT=production
# - Set LOG_LEVEL=INFO or WARNING
# - COOKIE_SECURE must be true (HTTPS only)
# - Configure SENTRY_DSN for error tracking
# - Use strong SECRET_KEY (32+ random characters)
# - Enable RATE_LIMIT_ENABLED=true
# - Configure proper CORS origins (no wildcards in production)
# - Use environment secrets management (AWS Secrets Manager, etc.)
# - Never expose this file or .env in version control
#
# ====================================================================
# RAILWAY DEPLOYMENT (Backend + PostgreSQL)
# ====================================================================
#
# Required Environment Variables in Railway Dashboard:
#
# 1. DATABASE_URL (auto-provided by Railway PostgreSQL plugin)
#    - Railway auto-injects this when you add PostgreSQL plugin
#    - Format: postgresql+asyncpg://user:pass@host:5432/railway
#
# 2. SYNC_DATABASE_URL
#    - Same as DATABASE_URL but without +asyncpg
#    - Format: postgresql://user:pass@host:5432/railway
#
# 3. SECRET_KEY
#    - Generate with: python -c "import secrets; print(secrets.token_hex(32))"
#
# 4. ENVIRONMENT=production
#
# 5. BACKEND_CORS_ORIGINS
#    - Your Vercel domain: ["https://your-app.vercel.app"]
#    - Add custom domain if you have one
#
# 6. FRONTEND_URL=https://your-app.vercel.app
#
# 7. COOKIE_DOMAIN (leave empty for Railway auto-detection)
#
# 8. GROQ_API_KEY (for AI features)
#
# 9. RESEND_API_KEY (for emails, optional)
#
# ====================================================================
# VERCEL DEPLOYMENT (Frontend)
# ====================================================================
#
# Required Environment Variables in Vercel Dashboard:
#
# 1. NEXT_PUBLIC_API_URL=https://your-railway-app.railway.app/api/v1
#    - Get this URL from Railway after deploying backend
#    - Must include /api/v1 suffix
#    - Must be HTTPS for cookies to work
#
# ====================================================================
#
# SECURITY CHECKLIST:
# ✅ Changed default SECRET_KEY
# ✅ Strong database password
# ✅ CORS configured for specific origins
# ✅ Cookies secure (HTTPS)
# ✅ Rate limiting enabled
# ✅ Sentry configured for monitoring
# ✅ .env added to .gitignore
# ✅ No hardcoded secrets in code
#
# ====================================================================
